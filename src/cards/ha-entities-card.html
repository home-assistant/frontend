<link rel='import' href='../../bower_components/polymer/polymer.html'>

<link rel='import' href='../components/ha-card.html'>
<link rel='import' href='../components/entity/ha-entity-toggle.html'>
<link rel='import' href='../state-summary/state-card-content.html'>

<dom-module id='ha-entities-card'>
  <style is="custom-style" include="iron-flex"></style>
  <style>
    .states {
      padding-bottom: 16px;
    }
    .state {
      padding: 4px 16px;
      cursor: pointer;
    }
    .header {
      @apply(--paper-font-headline);
      /* overwriting line-height +8 because entity-toggle can be 40px height,
         compensating this with reduced padding */
      line-height: 40px;
      color: var(--primary-text-color);
      padding: 20px 16px 12px;
      text-transform: capitalize;
    }
    .header .name {
      @apply(--paper-font-common-nowrap);
    }
    ha-entity-toggle {
      margin-left: 16px;
    }
  </style>
  <template>
    <ha-card>
      <div class='header horizontal layout center'>
        <div class='flex name'>[[computeTitle(states, groupEntity)]]</div>
        <template is='dom-if' if='[[showGroupToggle(groupEntity, states)]]'>
          <ha-entity-toggle state-obj='[[groupEntity]]'></ha-entity-toggle>
        </template>
      </div>
      <div class='states'>
        <template is='dom-repeat' items="[[states]]">
          <div class='state' on-tap='entityTapped'>
            <state-card-content class="state-card" state-obj="[[item]]"></state-card-content>
          </div>
        </template>
      </div>
    </ha-card>
  </template>
</dom-module>
