<link rel='import' href='../../bower_components/polymer/polymer-element.html'>

<link rel='import' href='./ha-camera-card.html'>
<link rel='import' href='./ha-entities-card.html'>
<link rel='import' href='./ha-history_graph-card.html'>
<link rel='import' href='./ha-media_player-card.html'>
<link rel='import' href='./ha-weather-card.html'>
<link rel='import' href='./ha-persistent_notification-card.html'>
<link rel='import' href='./ha-plant-card.html'>

<script>
class HaCardChooser extends Polymer.Element {
  static get is() { return 'ha-card-chooser'; }
  static get properties() {
    return {
      cardData: {
        type: Object,
        observer: 'cardDataChanged',
      },
    };
  }

  cardDataChanged(newData) {
    if (!newData) return;

    var cardType;
    if (newData.stateObj && newData.stateObj.attributes && 'custom_ui_full_card' in newData.stateObj.attributes) {
      cardType = newData.stateObj.attributes.custom_ui_full_card.toUpperCase();
    } else {
      cardType = 'HA-' + newData.cardType.toUpperCase() + '-CARD';
    }

    window.hassUtil.dynamicContentUpdater(this, cardType, newData);
  }
}
customElements.define(HaCardChooser.is, HaCardChooser);
</script>
