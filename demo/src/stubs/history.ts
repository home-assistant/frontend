import { addDays } from "date-fns";
import { HassEntity } from "home-assistant-js-websocket";
import { MockHomeAssistant } from "../../../src/fake_data/provide_hass";

interface HistoryQueryParams {
  filter_entity_id: string;
  end_time: string;
}

const parseQuery = <T>(queryString: string) => {
  const query: any = {};
  const items = queryString.split("&");
  for (const item of items) {
    const parts = item.split("=");
    const key = decodeURIComponent(parts[0]);
    const value = parts.length > 1 ? decodeURIComponent(parts[1]) : undefined;
    query[key] = value;
  }
  return query as T;
};

const getTime = (minutesAgo) => {
  const ts = new Date(Date.now() - minutesAgo * 60 * 1000);
  return ts.toISOString();
};

const randomTimeAdjustment = (diff) => Math.random() * diff - diff / 2;

const maxTime = 1440;

const generateHistory = (state, deltas) => {
  const changes =
    typeof deltas[0] === "object"
      ? deltas
      : deltas.map((st) => ({ state: st }));

  const timeDiff = 900 / changes.length;

  return changes.map((change, index) => {
    let attributes;
    if (!change.attributes && !state.attributes) {
      attributes = {};
    } else if (!change.attributes) {
      attributes = state.attributes;
    } else if (!state.attributes) {
      attributes = change.attributes;
    } else {
      attributes = { ...state.attributes, ...change.attributes };
    }

    const time =
      index === 0
        ? getTime(maxTime)
        : getTime(maxTime - index * timeDiff + randomTimeAdjustment(timeDiff));

    return {
      attributes,
      entity_id: state.entity_id,
      state: change.state || state.state,
      last_changed: time,
      last_updated: time,
    };
  });
};

const incrementalUnits = ["clients", "queries", "ads"];

export const mockHistory = (mockHass: MockHomeAssistant) => {
  mockHass.mockAPI(
    new RegExp("history/period/.+"),
    (hass, _method, path, _parameters) => {
      const params = parseQuery<HistoryQueryParams>(path.split("?")[1]);
      const entities = params.filter_entity_id.split(",");

      const results: HassEntity[][] = [];

      for (const entityId of entities) {
        const state = hass.states[entityId];

        if (!state) {
          continue;
        }

        if (!state.attributes.unit_of_measurement) {
          results.push(generateHistory(state, [state.state]));
          continue;
        }

        const numberState = Number(state.state);

        if (isNaN(numberState)) {
          // eslint-disable-next-line no-console
          console.log(
            "Ignoring state with unparsable state but with a unit",
            entityId,
            state
          );
          continue;
        }

        const statesToGenerate = 15;
        let genFunc;

        if (incrementalUnits.includes(state.attributes.unit_of_measurement)) {
          let initial = Math.floor(
            numberState * 0.4 + numberState * Math.random() * 0.2
          );
          const diff = Math.max(
            1,
            Math.floor((numberState - initial) / statesToGenerate)
          );
          genFunc = () => {
            initial += diff;
            return Math.min(numberState, initial);
          };
        } else {
          const diff = Math.floor(
            numberState * (numberState > 80 ? 0.05 : 0.5)
          );
          genFunc = () =>
            numberState - diff + Math.floor(Math.random() * 2 * diff);
        }

        results.push(
          generateHistory(
            {
              entity_id: state.entity_id,
              attributes: state.attributes,
            },
            Array.from({ length: statesToGenerate }, genFunc)
          )
        );
      }
      return results;
    }
  );
  mockHass.mockWS("history/statistics_during_period", (params) => {
    // Just gives back energy stats for now

    const dateToday = params.start_time.split("T")[0];
    const dateTomorrow = addDays(new Date(params.start_time), +1)
      .toISOString()
      .split("T")[0];

    return {
      "sensor.energy_consumption_tarif_1": [
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateToday}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7950.418,
          sum: 96.3809999999994,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateToday}T22:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7950.763,
          sum: 96.72599999999966,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateToday}T23:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7951.093,
          sum: 97.05599999999959,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T00:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7951.402,
          sum: 97.36499999999978,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T01:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7951.715,
          sum: 97.67799999999988,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T02:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7952.039,
          sum: 98.0019999999995,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T03:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7952.365,
          sum: 98.32799999999952,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T04:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7952.667,
          sum: 98.63000000000011,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T05:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7952.953,
          sum: 98.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T06:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7953.13,
          sum: 99.09299999999985,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T07:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7953.237,
          sum: 99.19999999999982,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T08:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7953.247,
          sum: 99.21000000000004,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T09:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7953.256,
          sum: 99.21900000000005,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T10:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7953.354,
          sum: 99.31700000000001,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T11:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7953.373,
          sum: 99.33599999999933,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T12:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7953.48,
          sum: 99.4429999999993,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T13:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7954.168,
          sum: 100.1309999999994,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T14:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7954.197,
          sum: 100.15999999999985,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T15:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7954.218,
          sum: 100.18099999999959,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T16:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7955.118,
          sum: 101.08100000000013,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T17:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7955.371,
          sum: 101.33399999999983,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T18:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7955.738,
          sum: 101.70100000000002,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T19:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7956.149,
          sum: 102.11200000000008,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T20:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7956.589,
          sum: 102.55199999999968,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1",
          start: `${dateTomorrow}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 7956.968,
          sum: 102.93099999999959,
        },
      ],
      "sensor.energy_consumption_tarif_2": [
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateToday}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateToday}T22:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateToday}T23:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T00:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T01:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T02:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T03:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T04:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T05:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T06:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T07:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T08:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T09:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T10:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T11:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T12:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T13:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T14:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T15:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T16:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T17:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T18:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T19:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T20:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_2",
          start: `${dateTomorrow}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 5664.254,
          sum: 34.91600000000017,
        },
      ],
      "sensor.energy_production_tarif_1": [
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateToday}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 808.52,
          sum: 30.144999999999982,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateToday}T22:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 808.52,
          sum: 30.144999999999982,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateToday}T23:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 808.52,
          sum: 30.144999999999982,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T00:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 808.52,
          sum: 30.144999999999982,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T01:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 808.52,
          sum: 30.144999999999982,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T02:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 808.52,
          sum: 30.144999999999982,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T03:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 808.52,
          sum: 30.144999999999982,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T04:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 808.52,
          sum: 30.144999999999982,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T05:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 808.52,
          sum: 30.144999999999982,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T06:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 808.522,
          sum: 30.147000000000048,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T07:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 808.532,
          sum: 30.15700000000004,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T08:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 808.908,
          sum: 30.533000000000015,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T09:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 809.181,
          sum: 30.80600000000004,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T10:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 809.484,
          sum: 31.109000000000037,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T11:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 810.126,
          sum: 31.750999999999976,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T12:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 810.557,
          sum: 32.182000000000016,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T13:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 810.687,
          sum: 32.31200000000001,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T14:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 811.112,
          sum: 32.736999999999966,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T15:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 811.64,
          sum: 33.264999999999986,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T16:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 811.751,
          sum: 33.375999999999976,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T17:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 811.763,
          sum: 33.388000000000034,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T18:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 811.763,
          sum: 33.388000000000034,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T19:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 811.763,
          sum: 33.388000000000034,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T20:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 811.763,
          sum: 33.388000000000034,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1",
          start: `${dateTomorrow}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 811.763,
          sum: 33.388000000000034,
        },
      ],
      "sensor.energy_production_tarif_2": [
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateToday}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateToday}T22:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateToday}T23:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T00:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T01:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T02:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T03:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T04:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T05:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T06:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T07:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T08:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T09:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T10:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T11:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T12:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T13:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T14:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T15:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T16:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T17:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T18:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T19:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T20:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2",
          start: `${dateTomorrow}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 1876.281,
          sum: 93.6289999999999,
        },
      ],
      "sensor.energy_consumption_tarif_1_cost": [
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateToday}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 0.965999999999894,
          sum: 17.42742847999997,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateToday}T22:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.03844999999995,
          sum: 17.499878480000028,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateToday}T23:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.10774999999993,
          sum: 17.56917848000001,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T00:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.17263999999996,
          sum: 17.63406848000004,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T01:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.23836999999998,
          sum: 17.69979848000006,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T02:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.3064099999999,
          sum: 17.76783847999998,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T03:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.3748699999999,
          sum: 17.836298479999982,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T04:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.43829000000002,
          sum: 17.899718480000104,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T05:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.49835000000003,
          sum: 17.959778480000114,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T06:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.53551999999996,
          sum: 17.996948480000043,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T07:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.55798999999995,
          sum: 18.019418480000034,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T08:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.56008999999999,
          sum: 18.021518480000076,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T09:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.56198,
          sum: 18.023408480000086,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T10:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.58255999999998,
          sum: 18.043988480000067,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T11:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.58654999999984,
          sum: 18.047978479999927,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T12:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.60901999999983,
          sum: 18.070448479999918,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T13:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.75349999999986,
          sum: 18.214928479999948,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T14:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.75958999999995,
          sum: 18.221018480000037,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T15:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.76399999999989,
          sum: 18.225428479999977,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T16:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 1.953,
          sum: 18.414428480000087,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T17:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 2.00612999999993,
          sum: 18.467558480000015,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T18:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 2.08319999999998,
          sum: 18.544628480000064,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T19:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 2.16951,
          sum: 18.630938480000083,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T20:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 2.26190999999993,
          sum: 18.723338480000013,
        },
        {
          statistic_id: "sensor.energy_consumption_tarif_1_cost",
          start: `${dateTomorrow}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "2021-07-29T17:27:43.728686+00:00",
          state: 2.34149999999991,
          sum: 18.80292847999999,
        },
      ],
      "sensor.solar_production": [
        {
          statistic_id: "sensor.solar_production",
          start: `${dateToday}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4715.895,
          sum: 87.23100000000068,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateToday}T22:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4715.895,
          sum: 87.23100000000068,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateToday}T23:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4715.895,
          sum: 87.23100000000068,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T00:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4715.895,
          sum: 87.23100000000068,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T01:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4715.895,
          sum: 87.23100000000068,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T02:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4715.895,
          sum: 87.23100000000068,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T03:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4715.895,
          sum: 87.23100000000068,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T04:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4715.9,
          sum: 87.23599999999988,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T05:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4715.927,
          sum: 87.26299999999992,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T06:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4716.074,
          sum: 87.40999999999985,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T07:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4716.29,
          sum: 87.6260000000002,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T08:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4716.966,
          sum: 88.30200000000059,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T09:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4717.608,
          sum: 88.94400000000041,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T10:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4718.256,
          sum: 89.59200000000055,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T11:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4719.333,
          sum: 90.66899999999987,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T12:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4720.126,
          sum: 91.46200000000044,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T13:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4720.704,
          sum: 92.03999999999996,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T14:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4721.728,
          sum: 93.0640000000003,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T15:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4722.757,
          sum: 94.09299999999985,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T16:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4723.382,
          sum: 94.71799999999985,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T17:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4723.76,
          sum: 95.09600000000046,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T18:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4723.842,
          sum: 95.17799999999988,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T19:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4723.845,
          sum: 95.1810000000005,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T20:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4723.845,
          sum: 95.1810000000005,
        },
        {
          statistic_id: "sensor.solar_production",
          start: `${dateTomorrow}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: "1970-01-01T00:00:00+00:00",
          state: 4723.845,
          sum: 95.1810000000005,
        },
      ],
      "sensor.energy_production_tarif_1_compensation": [
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateToday}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0,
          sum: 2.15049999999997,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateToday}T22:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0,
          sum: 2.15049999999997,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateToday}T23:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0,
          sum: 2.15049999999997,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T00:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0,
          sum: 2.15049999999997,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T01:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0,
          sum: 2.15049999999997,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T02:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0,
          sum: 2.15049999999997,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T03:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0,
          sum: 2.15049999999997,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T04:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0,
          sum: 2.15049999999997,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T05:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0,
          sum: 2.15049999999997,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T06:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.000420000000013943,
          sum: 2.1509199999999837,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T07:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.00252000000001203,
          sum: 2.153019999999982,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T08:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.0814800000000071,
          sum: 2.231979999999977,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T09:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.138810000000012,
          sum: 2.2893099999999817,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T10:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.202440000000012,
          sum: 2.3529399999999816,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T11:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.337259999999999,
          sum: 2.4877599999999687,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T12:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.427770000000008,
          sum: 2.5782699999999776,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T13:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.455070000000007,
          sum: 2.6055699999999766,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T14:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.544319999999998,
          sum: 2.6948199999999676,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T15:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.655200000000001,
          sum: 2.8056999999999706,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T16:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.678510000000001,
          sum: 2.8290099999999705,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T17:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.681030000000013,
          sum: 2.8315299999999826,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T18:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.681030000000013,
          sum: 2.8315299999999826,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T19:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.681030000000013,
          sum: 2.8315299999999826,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T20:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.681030000000013,
          sum: 2.8315299999999826,
        },
        {
          statistic_id: "sensor.energy_production_tarif_1_compensation",
          start: `${dateTomorrow}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T10:26:34.397059+00:00`,
          state: 0.681030000000013,
          sum: 2.8315299999999826,
        },
      ],
      "sensor.energy_production_tarif_2_compensation": [
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateToday}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateToday}T22:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateToday}T23:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T00:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T01:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T02:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T03:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T04:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T05:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T06:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T07:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T08:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T09:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T10:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T11:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T12:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T13:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T14:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T15:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T16:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T17:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T18:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T19:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T20:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
        {
          statistic_id: "sensor.energy_production_tarif_2_compensation",
          start: `${dateTomorrow}T21:00:00+00:00`,
          mean: null,
          min: null,
          max: null,
          last_reset: `${dateToday}T13:50:26.691374+00:00`,
          state: 0.31755999999999,
          sum: 1.6215424499999314,
        },
      ],
      "sensor.grid_fossil_fuel_percentage": [
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateToday}T21:00:00+00:00`,
          mean: 70.13291127543611,
          min: 69.91,
          max: 70.52,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateToday}T22:00:00+00:00`,
          mean: 70.67402859610279,
          min: 69.34,
          max: 71.71,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateToday}T23:00:00+00:00`,
          mean: 66.23272769145834,
          min: 64.3,
          max: 69.34,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T00:00:00+00:00`,
          mean: 64.22152412166389,
          min: 61.9,
          max: 65.51,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T01:00:00+00:00`,
          mean: 61.27742974916111,
          min: 60.67,
          max: 61.9,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T02:00:00+00:00`,
          mean: 61.842529131733336,
          min: 61.02,
          max: 62.4,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T03:00:00+00:00`,
          mean: 62.12945990103611,
          min: 61.46,
          max: 63.34,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T04:00:00+00:00`,
          mean: 64.67700745873611,
          min: 63.34,
          max: 65.35,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T05:00:00+00:00`,
          mean: 65.18884454276112,
          min: 63.92,
          max: 67.2,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T06:00:00+00:00`,
          mean: 66.96314421340556,
          min: 64.26,
          max: 69.44,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T07:00:00+00:00`,
          mean: 65.87832061931667,
          min: 65.33,
          max: 66.57,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T08:00:00+00:00`,
          mean: 65.4818214976889,
          min: 63.13,
          max: 69.06,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T09:00:00+00:00`,
          mean: 67.09423034802778,
          min: 63.44,
          max: 69.59,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T10:00:00+00:00`,
          mean: 71.52887078589721,
          min: 69.59,
          max: 73.02,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T11:00:00+00:00`,
          mean: 74.94635000977499,
          min: 72.01,
          max: 76.92,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T12:00:00+00:00`,
          mean: 73.33995728150833,
          min: 69.76,
          max: 75.11,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T13:00:00+00:00`,
          mean: 71.82912075523889,
          min: 69.76,
          max: 73.71,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T14:00:00+00:00`,
          mean: 73.213969707675,
          min: 72.62,
          max: 73.72,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T15:00:00+00:00`,
          mean: 73.21237102706944,
          min: 71.65,
          max: 76.05,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T16:00:00+00:00`,
          mean: 69.98698877159723,
          min: 66.91,
          max: 73.23,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T17:00:00+00:00`,
          mean: 70.37419507105277,
          min: 66.6,
          max: 72.83,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T18:00:00+00:00`,
          mean: 67.060280599625,
          min: 65.13,
          max: 68.44,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T19:00:00+00:00`,
          mean: 66.29674991834722,
          min: 64.85,
          max: 67.59,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T20:00:00+00:00`,
          mean: 67.14852586574445,
          min: 63.75,
          max: 71.18,
          last_reset: null,
          state: null,
          sum: null,
        },
        {
          statistic_id: "sensor.grid_fossil_fuel_percentage",
          start: `${dateTomorrow}T21:00:00+00:00`,
          mean: 67.19822513043889,
          min: 63.74,
          max: 70.24,
          last_reset: null,
          state: null,
          sum: null,
        },
      ],
    };
  });
};
