<link rel="import" href='../../../bower_components/polymer/polymer-element.html'>
<link rel="import" href="../../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../../bower_components/paper-item/paper-item-body.html">
<link rel="import" href="../../../bower_components/iron-icon/iron-icon.html">

<link rel="import" href="../../../src/util/hass-mixins.html">

<dom-module id="ha-config-cloud-menu">
  <template>
    <style include="iron-flex">
      paper-card {
        display: block;
      }
      paper-item {
        cursor: pointer;
      }
    </style>
    <paper-card>
      <paper-item on-click='_navigate'>
        <paper-item-body two-line>
          Home Assistant Cloud
          <template is='dom-if' if='[[account]]'>
            <div secondary>Logged in as [[account.email]]</div>
          </template>
          <template is='dom-if' if='[[!account]]'>
            <div secondary>Not logged in</div>
          </template>
        </paper-item-body>
        <iron-icon icon='mdi:chevron-right'></iron-icon>
      </paper-item>
    </paper-card>
  </template>
</dom-module>

<script>
class HaConfigCloudMenu extends window.hassMixins.NavigateMixin(Polymer.Element) {
  static get is() { return 'ha-config-cloud-menu'; }

  static get properties() {
    return {
      hass: Object,
      isWide: Boolean,
      account: Object,
    };
  }

  _navigate() {
    this.navigate('/config/cloud');
  }
}

customElements.define(HaConfigCloudMenu.is, HaConfigCloudMenu);
</script>
